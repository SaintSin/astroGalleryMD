---
import { type CollectionEntry, getCollection, getEntry } from "astro:content";
import { Image } from "astro:assets";
import { getEntries } from "astro:content";

interface Props {
  entry: CollectionEntry<"galleries">;
}

const { galleryId } = Astro.props;

const agallery = await getEntry("galleries", galleryId);
console.log(agallery);
---

<section class="gallery">
  <p>Component Gallery ID: {galleryId}</p>
  <p class="small">{JSON.stringify(agallery.data.images)}</p>
</section>
<section>
  {
    agallery.data.images.map((photo) => (
      <>
        <div>
          <Image
            src={photo.src}
            alt={JSON.stringify(photo.alt)}
            widths={[600, 120, 2000]}
          />
          {photo.title ? <p>{photo.title}</p> : null}
          {photo.description ? <p>{photo.description}</p> : null}
        </div>
      </>
    ))
  }
</section>
<style>
  .gallery {
    background: oklch(68.24% 0.187 236.12 / 89.82%);
    padding: 0.001rem 0.41rem;
    margin: 0;
    font-size: 1.5rem;
  }
  .small {
    font-size: 0.8rem;
  }
  img {
    width: 400px;
    height: auto;
  }
</style>
